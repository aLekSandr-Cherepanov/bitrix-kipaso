var fastViewInitPictureCarousel,fastViewInitPictureSlider,createFastView,initFastViewApp=function(){function s(){!1!==l&&(l.remove(),p=c=u=a=l=!1)}var n,r,a,u,c,p,o=$("#appFastView"),l=!1,d=0,f=0,w=0,V=0;createFastView=function(){fastViewInitPictureSlider(),fastViewInitPictureCarousel()},fastViewInitPictureSlider=function(){var e=o.find(".appFastViewPictureSlider"),t=e.find(".appFastViewPictureSliderItems"),e=e.find(".appFastViewPictureSliderItem"),i=e.length;d=0,t.css({width:100*i+"%"}),e.css({width:100/i+"%"})},fastViewInitPictureCarousel=function(){var e=o.find(".appFastViewPictureCarousel"),t=e.find(".appFastViewPictureCarouselItems"),i=e.find(".appFastViewPictureCarouselItem"),a=e.find(".appFastViewPictureCarouselLeftButton").show(),e=e.find(".appFastViewPictureCarouselRightButton").show(),s=i.length;r=i,n=t,0<s&&(t.css({width:100*s+"%"}),i.css({width:100/s/3+"%"}),i.eq(0).find("a").addClass("active"),s<=3)&&(a.hide(),e.hide())};$(document).on("click","#appFastView .appFastViewExit",function(e){$("#foundation").removeClass("blurred"),o.hide(),e.preventDefault()}),$(document).on("click","#appFastView .appFastViewPictureCarouselItem",function(e){var t,i=$(this),a=i.find("a");a.hasClass("active")||(t=o.find(".appFastViewPictureSliderItems"),o.find(".appFastViewPictureCarouselItemLink").removeClass("active"),t.css({left:"-"+100*i.index()+"%"}),d=i.index(),a.addClass("active")),e.preventDefault()}),$(document).on("click","#appFastView .appFastViewPictureCarouselLeftButton",function(e){var t=0,i=!1,i=--d<0?(t=(d=r.length-1)-2,!0):(t=d,!1);(d+1<r.length-1||1==i)&&n.css({left:"-"+100*t/3+"%"}),r.eq(d).trigger("click"),e.preventDefault()}),$(document).on("click","#appFastView .appFastViewPictureCarouselRightButton",function(e){var t=0;++d>r.length-1?d=0:t=r.length-1-d<2?r.length-3:d,n.css({left:"-"+100*t/3+"%"}),r.eq(d).trigger("click"),e.preventDefault()}),$(document).on("mousemove","#appFastView .appFastViewPictureSliderItemLink",function(e){var t,i,a;!p&&0!=l||(t=$(this),i=e.pageX-V.left,e=e.pageY-V.top,0!=l&&i<0||f<i||e<0||w<e?s():0==l?t.trigger("mouseover"):(i=u-150<(i=0<=(i=u*(t=100*i/f)/100-75)?i:0)?u-150:i,a=c-150<(a=0<=(a=c*(e=100*e/w)/100-75)?a:0)?c-150:a,l.css({backgroundPosition:"-"+i+"px -"+a+"px",left:t+"%",top:e+"%"})))}),$(document).on("mouseover","#appFastView .appFastViewPictureSliderItemLink",function(e){var t=$(this),i=t.find(".appFastViewPictureSliderItemPicture");t.data("loupe-picture")?((a=new Image).src=t.data("loupe-picture"),a.onload=function(){l||(l=$("<div />",{class:"appFastViewPictureLoupe"}),t.append(l)),l.css({"background-image":"url("+t.data("loupe-picture")+")"}),u=this.width,c=this.height,f=i.innerWidth(),w=i.innerHeight(),V=i.offset(),p=!0}):console.error("data loupe picture is empty!")}),$(document).on("mouseleave","#appFastView .appFastViewPictureSliderItemLink",s),createFastView()};